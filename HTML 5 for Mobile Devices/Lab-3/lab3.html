<!--Note: There are some errors with the google API key.-->
<!DOCTYPE html>
<html lang="en-US">

<head>
    <title>Lab 3</title>
    <meta name="viewport" content="width=device-width,
        initial-scale=1">
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <script type="text/javascript" src="../../No Push/js/key.js"></script>

    <style>
        #footer {
            position: fixed;
            left: 0px;
            bottom: 0px;
            width: 100%;
        }

        #header {
            position: fixed;
            left: 0px;
            top: 0px;
            width: 100%;
        }
    </style>

    <script>
        window.onload = function () {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(onPosition, onError);
            }
            else {
                alert("Location is not available at this time.");
            }
        }

        function onPosition(position) {
            var lat = position.coords.latitude;
            var long = position.coords.longitude;
            var url = "https://maps.googleapis.com/maps/api/js?key=" + url + key + "&q=" + lat + "," + long;
            document.getElementById('lat').innerHTML = "<strong> Latitude: " + lat + "</strong>";
            document.getElementById('long').innerHTML = "<strong> Longitude: " + long + "</strong>";
            document.getElementById('map').setAttribute('src', url);
        }

        function onError(e) {
            alert(e.message);
        }
    </script>

</head>

<body>
    <div data-role="page">
        <div data-role="header" id="header">
            <h2>Mobile Map</h2>
        </div>
        <div data-role="main" class="ui-content">
            <span id="lat"></span>
            <span id="long"></span>
            <iframe id="map" width="100%" height="300px" frameborder="0" style="border: 0;"></iframe>
        </div>
        <div data-role="footer" id="footer">
            <h2>Lab 3</h2>
        </div>
    </div>
</body>

</html>